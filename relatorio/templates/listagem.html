{% extends 'base.html' %}
{% block content %}
{% load static %}
    <div class="container text-center">
    <div class="row justify-contente-start">
    <div class="row align-items-center">
    <div class="col">
        <div class="row">
                <div class="col-12 search-div">
                    <form method="GET" id="search-form">
                        <div class="input-group mb-3">
                            <input type="text" name="buscar" class="form-control" placeholder="Buscar" required>
                            <input type="hidden" name="ordenar" value="{{ordenar}}">
                            <button class="btn btn-outline-secondary" type="submit" id="button-addon2">Buscar</button>
                        </div>
                    </form>
                </div>
            </div>
    {% if registros %}
    <table class="table table-striped" id="tabela-listar">
        <thead>
          <tr>
             {% for th in columns %}
               <th scope="col">{{ th }}
                    <form method="GET">
                      <input type="hidden" name="buscar" value="{{buscar}}">
                      {% if urlx == th %}
                        <button class="btn btn-light" type="submit" name="ordenar" value=-{{th}}>
                            <span class="material-icons">arrow_drop_up</span>
                        </button>
                      {% else %}
                        <button class="btn btn-light" type="submit" name="ordenar" value={{th}}>
                            <span class="material-icons">arrow_drop_down</span>
                        </button>
                      {% endif %}
                  </form>
               </th>
                {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for registro in registros  %}
           <tr>
            {% for h in columns  %}
             <td>{{ registro|get_dict_item:h }}</td>
            {% endfor %}
           </tr>
          {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div>
      <p>Registro n√£o encontrado</p>
    </div>
    {% endif %}
        <div class="d-grid gap-2 col-6 mx-auto">
            <a href="{% url 'forms' %}"><button class="btn btn-outline-dark" type="button" align="center">
                Adicionar novo registro
            </button></a>
        </div>
    </div>
    </div>
    </div>
    </div>

{% endblock %}


